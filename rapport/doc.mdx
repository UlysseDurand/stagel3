\maketitle-----# IntroductionComme vu en théorie de la programmation, on peut faire une sémantiquedénotationnelle d'un langage de programmation.C'est à dire envoyer les types du langage vers des ensembles.En réalité on peut faire une telle sémantique dénotationnelle pas que pour lesensembles mais pour toutes les catégories cartésiennes fermées.La question est alors de savoir si on peut construire une telle sémantique versune catégorie des jeux et stratégies, que l'on va alors construire.-----# Définitions usuelles de sémantique de jeuNous allons définir petit à petit les jeux et stratégies pour fairecette catégorie des jeux et stratégies.---h Structure d'événement (S.E.) :Il s'agit de $E = (|E|, \leq_E, \#_E)$ où---i#### $\leq_E$ (la causalité) est un ordre partiel sur $E$#### $\#_E$ (le conflit) est une relation binaire symétrique irréflexive :---i#### à causes finies :$\forall e \in |E|, \{e' \in |E| \mid e' \leq_E e\}$ est fini#### qui vérifie l'axiome de vendetta :$\forall e_1 \#_E e_2, (e_2 \leq_E e'_2 \implies e_1 \# e'_2)$---i!---i!---hIntuitivement pour l'axiome de vendetta, si deux événements sont en conflit,alors tous les événements qu'ils causent sont eux aussi en conflit.---h Configuration :$x$ fini $\subset |E|$ est une configuration si---i#### x est fermé vers le bas :$\forall e \in x, \forall e' \in |E|, e' \leq_E e \implies e' \in x$#### x est sans conflit$\forall e, e' \in x, \neg (e \#_E e')$---i!---hOn note $\mathcal{C}(E)$ l'ensemble des configurations de $E$.---h Justification :$x \in \mathcal{C}(E)$ justifie $e \in |E|$, noté $x \vdash e$ si$x \uplus \{e\} \in \mathcal{C}(E)$---h---h Jeu :Un jeu est $A$ une S.E munie de$\text{pol}_A : |A| \-> \{-, +\}$---hOn aura $\text{pol}_A(e) = -$ si $e$ est un coup opposant et $+$ sic'est un coup joueur.---h Partie :Une partie sur $A$ est un mot $s = s_1 \dots s_n \in |A|^*$ qui est :---i#### valide :$\forall 1\leq i \leq n, \{s_1, \dots s_i\} \in \mathcal{C}(A)$#### non répétitive :$\forall i, j, s_i = s_j \implies i = j$#### alternante :$\forall 1 \leq i \leq n-1, \text{pol}_A(s_i) = - \text{pol}_A(s_{i+1})$#### négative :$s \neq \epsilon \implies \text{pol}_A(s_1) = -$---i!---hOn note $\mathcal{P}(A)$ l'ensemble des parties sur $A$.### Opérations sur les jeux---h Tenseur ou jeux parallèles :On définit le jeu $A_1 \otimes A_2$---i#### $|A_1 \otimes A_2| = \{1\} \times |A_1| \cup \{2\} \times |A_2|$#### $(i,a) \leq_{A_1 \otimes A_2} (j, a') \iff i = j $ et $a \leq_{A_i} a'$#### $(i,a) \#_{A_1 \otimes A_2} (j,a') \iff i = j$ et $a \#_{A_i} a'$#### $\text{pol}_{A_1 \otimes A_2}(i,a) = pol_{A_i} (a)$---i!---hAlors un jeu $A\otimes B$ correspond à un jeu où les joueurs jouentà chaque tour soit sur le jeu $A$ soit sur le jeu $B$.---h Jeu dual :On définit le jeu ${}^\bot A$---i#### $|{}^\bot A| = |A|$#### $\leq_{{}^\bot A} = \leq_A$#### $\#_{{}^\bot A} = \#_A$#### $\text{pol}_{{}^\bot A} = - \text{pol}_A$---i!---hLe jeu ${}^\bot A$ correspond au jeu $A$ où on échange la place des joueurs.L'opposant devient le joueur et le joueur devient l'opposant.---h Le jeu $A \vdash B$ :$A \vdash B = {}^\bot A \otimes B$---hOn verra que cette définition est surtout utile pour définir des stratégiesavec leur composition.### Stratégies sur les jeux---h Stratégie :Une stratégie sur le jeu $A$ est $\sigma \subset \mathcal{P}(A)$ qui est---i#### non vide :$\epsilon \in \sigma$#### clos par préfixe :$\forall e \in \sigma, \forall e', e' \sqsubseteq e \implies e' \in \sigma$#### déterministe :(Dans une partie quand c'est le tour du joueur +, son choix de prochain coupest unique, déterminé)$sa_1^+, sa_2^+ \in \sigma \implies a_1 = a_2$#### réceptive :(Si la partie est maximale alors c'est à + de jouer.)$s \in \sigma$ et $sa^- \in \mathcal{P}(A) \implies sa^- \in \sigma$---i!---hDéfinissons les restrictions sur les parties d'un jeu $A_1 \otimes A_2$.---h Restrictions sur les partiesSoit $a = a_1 a_2 \dots a_n$ une partie sur $A_1 \otimes A_2$,on note $a \upharpoonright A_k$ la partie $(a_i)_{i \in I}$ où$I = \{i / \exists b / a_i = (b,k)\}$---h---h Restriction de stratégie :Soit $s$ une stratégie sur $A_1 \otimes A_2$, alors $s\upharpoonright A_k$ est larestriction de $\sigma$ à $A_k$.$\sigma \upharpoonright A_k = \{a\upharpoonright A_k \mid a \in \sigma\}$---h### Catégories :---h Catégorie :Une catégorie $\mathcal{C}$ c'est---i#### Une classe d'objets $|\mathcal{C}|$#### Pour chaque paire d'objets $A, B \in |\mathcal{C}|$, une classe demorphismes $\mathcal{C}(A,B)$#### Pour chaque $A \in |\mathcal{C}|$, un morphisme$\text{id}_A \in \mathcal{C}(A,A)$#### Une loi binaire sur les morphismes$f \in \mathcal{C}(A,B)$, si $g \in \mathcal{C}(B,C)$, alors$g \circ f \in \mathcal{C}(A,C)$telle que---i#### $\circ$ est associative:$h \circ (g \circ f) = (h \circ g) \circ f$#### Pour tout A, $\text{id}_A$ est neutre pour $\circ$ :$f \circ \text{id}_A = \text{id}_A \circ f = f$---i!---i!---h## La catégorie des jeux et des stratégiesNous allons tenter de construire la catégorie des jeux et stratégies---i#### Les objets seront les jeux#### Les morphismes $\mathcal{C}(A,B)$ seront les stratégies sur le jeu $A \vdash B$#### Pour A un objet, $\text{id}_A$ sera copycat de $A$ (défini très bientôt)#### La composition de stratégies est définie très bientôt---i!Après avoir défini $\text{id}_A$ et $\circ$, il nous restera à prouverque avec ces définitions, $\circ$ est associative et $\text{id}_A$ est neutrepour $\circ$.### CopycatCopycat de $A$ est une stratégie sur $A \vdash A = {}^\bot A \otimes A$---h Definition :Copycat de $A$ c'est$cc_A=\{s \in \mathcal{P}(A_1 \vdash A_2) \mid \forall t \sqsubseteq^+ s, t \upharpoonright A_1 = t \upharpoonright A_2\}$---h### Composition de stratégiesSoit $\sigma$ stratégie sur $A\vdash B$ et $\tau$ stratégie sur $B \vdash C$,construisons $\tau \circ \sigma$ stratégie sur $A \vdash C$---h Définition : interactionUne interaction sur $A, B, C$ est $u \in (A \otimes B \otimes C)^*$ tel que---i#### $u \upharpoonright (A, B) \in \mathcal{P}(A \vdash B)$#### $u \upharpoonright (B, C) \in \mathcal{P}(B \vdash C)$#### $u \upharpoonright (A, C) \in \mathcal{P}(A \vdash C)$---i!---hOn note $I(A,B,C)$ l'ensemble des interactions sur $A,B,C$.---h Définition : stratégies parallèles$\sigma || \tau = \{u \in I(A,B,C) \mid u \upharpoonright A,B \in \sigma \text{ et }u \upharpoonright B,C \in \tau\}$---h---h Définition : Composition de stratégies$\sigma \circ \tau = \{u \upharpoonright A,C \mid u \in \sigma || \tau\}$---h---h Diagramme de polaritéÀ une interaction $u \in I(A,B,C)$, on peut associer un état$e_1 e_2 e_3 \in \{O,P\}^3$ tel que---i#### $e_1 = O$ si dans la partie $A\vdash B, u\upharpoonright A,B $ est une partie où c'est au tour de l'opposant#### $e_1 = O$ si dans la partie $B\vdash C, u\upharpoonright B,C $ est une partie où c'est au tour de l'opposant#### $e_1 = O$ si dans la partie $A\vdash C, u\upharpoonright A,C $ est une partie où c'est au tour de l'opposant---i!On aboutit alors au diagramme suivant :!ftikzdiagpol!où on passe d'un état à un autre en ajoutant un événement à notre interaction,$a^+$ désigne n'importe quel événement de $A$ de polarité $+$.---hCe diagramme de polarité est ce qui va nous permette de faire des preuves sur lescompositions de stratégies (la composition reste une stratégie, est associative,et a Copycat pour neutre).---h Proposition :$\sigma \circ \tau$ ainsi défini est bien une stratégie sur $A \vdash C$---h-----# Définitions équivalentes manipulables en CoqPour faire du Coq nous allons préférer des définitions inductives auxdéfinitions ensemblistes.## Définition d'une partie---h Definition du jeu résiduelSoit $A$ un jeu, $a \in |A|$ minimal pour $\leq_A$, on définit$A_{\backslash a}$ le jeu résiduel de $A$ en $a$.---i#### $|A{\backslash a}| = |A| \backslash \{x \in |A| \mid x \#_A a \text{ ou } x=a\}$#### $\leq_{A{\backslash a}} = \leq_A|_{|A{\backslash a}|^2}$(même relation mais restreinte à son nouvel ensemble de définition)#### $\#_{A{\backslash a}} = \#_A|_{|A{\backslash a}|^2}$(idem)#### $\text{pol}_{A{\backslash a}} = \text{pol}_A|_{|A{\backslash a}|}$(idem)---i!---hUn jeu résiduel est un jeu, c'est montré en Coq.---h Definition Coq : Les partiesUne partie est un OPlay, défini comme suit :$\frac{}{\epsilon : \text{OPlay}_G}\epsilon_0$$\frac{\text{min}(a^-,G) \qquad s : \text{PPlay}_{G\backslash a}}{a^-s : \text{OPlay}_G}\text{OPlay}_i$$\frac{\text{min}(A^+,G) \qquad s : \text{OPlay}_{G\backslash a}}{A^+s : \text{PPlay}_G}\text{PPlay}_i$---hNotons alors que les parties ainsi définies finissent forcément par un coupopposant, alors elles sont récéptives.On définit alors l'ordre préfixe sur les parties---h Définition Coq : Ordre préfixe sur les parties.$\frac{s : \text{OPlay}}{\epsilon \sqsubseteq^- s} \sqsubseteq^-_\epsilon$$\frac{s : \text{PPlay} \qquad s' : \text{PPlay} \qquad s \sqsubseteq^+ s'}{a^-s \sqsubseteq^- a^-s'} \sqsubset^-_i$$\frac{s : \text{OPlay} \qquad s' : \text{OPlay} \qquad s \sqsubseteq^- s'}{a^+s \sqsubseteq^+ a^+s'} \sqsubset^+_i$---hMaintenant passons aux stratégies, nous allons construire la relation decohérence sur les parties.---h Définition Coq : Cohérence entre deux parties$\frac{s:\text{Oplay}}{\text{Coh}^-(\epsilon,s)} \text{Coh}^-_{\epsilon,l}$$\frac{s:\text{OPlay}}{\text{Coh}^-(s,\epsilon)} \text{Coh}^-_{\epsilon,r}$$\frac{a^- \neq a'^- \qquad s:\text{PPlay} \qquad s':\text{PPlay}}{\text{Coh}^-(a^-s, a'^- s')} \text{Coh}^-_{\neq i}$$\frac{s : \text{OPlay} \qquad s':\text{OPlay} \qquad \text{Coh}^-(s,s')}{\text{Coh}^+(a^+s, a^+s')} \text{Coh}^+_i$$\frac{s : \text{PPlay} \qquad s':\text{PPlay} \qquad \text{Coh}^+(s,s')}{\text{Coh}^-(a^-s, a^-s')} \text{Coh}^-_i$---h---h Preuve que cohérente et clos par préfixe équivaut à déterministe et clos par préfixe.On dit que $\sigma \subset \mathcal{P}(A)$ est cohérente si$\forall s, s' \in \sigma$ de longueur paire, $ Coh^-(s,s')$Alors si $\sigma$ est cohérenteMontrons $\forall s, sa_1^+ \in \sigma$ et $s a^+ \in \sigma \implies a_1 = a_2$par induction sur $|s|$, (IH) est notre hypothèse d'induction.---i#### $|s| = 1$Alors comme $\sigma$ cohérente, on a $\text{Coh}^-(s_1^-a_1^+,s_1^-a_2^+)$Par induction structurelle sur cette relation,---i#### via $\text{Coh}^-_{\neq i}$, on aurait $s_1 \neq s_1$, impossible.#### via $\text{Coh}^-_{\epsilon,l}$, on aurait $s_1a_1^+ = \epsilon$, impossible.#### via $\text{Coh}^-_{\epsilon,r}$, on aurait $s_1a_2^+ = \epsilon$, impossible.#### on a alors forcément via $\text{Coh}^-_i$, $\text{Coh}^+(a_1^+,a_2^+)$Et de même, par induction structurelle, on $a_1 = a_2$.---i!#### $|s| > 1$Alors comme $\sigma$ cohérente, on a $\text{Coh}^-(s_1^-s_2^+s'a_1+,s_1^-s_2^+s'a_2^+)$Comme pour le cas $|s|=1$, on fait une induction structurelle sur la relation,le seul cas possible étant $\text{Coh}^+(s_2^+s'a_1^+, s_2^+s'a_2^+)$,en faisant aussi une induciton structurelle sur $\text{Coh}^+$,on a $\text{Coh}^-(s'a_1^+, s'a_2^+)$.En appliquant l'hypothèse (IH), sur $\text{Coh}^-(s'a_1^+,s'a_2^+)$, onobtient $a_1 = a_2$---i!Montrons maintenant la réciproqueSi $\sigma$ est déterministe et clos par préfixeOn montre $\forall s, s' \in \sigma, \text{Coh}^-_G(s,s')$ par induction sur$|s|+|s'|$.Si $s=\epsilon$ ou $s'=\epsilon$ c'est bon grâce à$\text{Coh}^-_{\epsilon, l}$ et $\text{Coh}^-_{\epsilon, r}$, sinon$s = s_1 s_2 s_\geq$ et $s' = s'_1 s'_2 s'_\geq$---i#### Si $s_1 = s'_1$Comme $\sigma$ est clos par préfixe, on a $s_1 s_2, s'_1 s'_2 \in \sigma$.Par déterminisme, on a alors $s_2 = s'_2$.Comme on a $s_\geq, s'_\geq \in \sigma |_{G\backslash s_1,s_2}$, par IH,on a $\text{Coh}^-(s_\geq, s'_\geq)$Donc on a $\text{Coh}^+(s_2 s_\geq, s'_2 s'_\geq)$ et finalement,$\text{Coh}^-(s_1 s_2 s_\geq, s'_1 s'_2 s'_\geq)$ grâce à$\text{Coh}_i^+$ et $\text{Coh}_i^-$.#### Si $s_1 \neq s'_1$On a directement par $\text{Coh}_{\neq i}^-, \text{Coh}^-(s_1 s_2 s_\geq, s'_1 s'_2 s_\geq)$.---i!---hOn a maintenant de quoi définir les stratégies en Coq.